/* His name was Bruce McNair. Copyright 2025 City of Vernonia, Oregon. */
import{__awaiter as e,__decorate as r}from"tslib";import{property as i,subclass as t}from"@arcgis/core/core/accessorSupport/decorators";import s from"@arcgis/core/widgets/Widget";import{tsx as o}from"@arcgis/core/widgets/support/widget";import n from"@arcgis/core/core/Collection";import c from"@arcgis/core/layers/Layer";import{publish as a}from"pubsub-js";import{IMAGERY_LAYER_TOPIC as l}from"./Basemap";export const DEFAULT_LAYER_INFOS=[{description:"2022 (1ft resolution)",url:"https://imagery.oregonexplorer.info/arcgis/rest/services/OSIP_2022/OSIP_2022_WM/ImageServer"},{description:"2020 (60cm resolution)",url:"https://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2020/NAIP_2020_WM/ImageServer"},{description:"2018 (60cm resolution)",url:"https://imagery.oregonexplorer.info/arcgis/rest/services/OSIP_2018/OSIP_2018_WM/ImageServer"},{description:"2016 (1m resolution)",url:"https://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2016/NAIP_2016_WM/ImageServer"},{description:"2014 (1m resolution)",url:"https://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2014/NAIP_2014_WM/ImageServer"},{description:"2012 (1m resolution)",url:"https://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2012/NAIP_2012_WM/ImageServer"},{description:"2011 (1m resolution)",url:"https://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2011/NAIP_2011_WM/ImageServer"},{description:"2009 (unknown resolution)",url:"https://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2009/NAIP_2009_SL/ImageServer"},{description:"2005 (0.5m resolution)",url:"https://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2005/NAIP_2005_SL/ImageServer"},{description:"2000 (1m resolution)",url:"https://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_2000/NAIP_2000_SL/ImageServer"},{description:"1995 (1m resolution)",url:"https://imagery.oregonexplorer.info/arcgis/rest/services/NAIP_1995/NAIP_1995_WM/ImageServer"}];let p=class extends s{constructor(e){super(e),this.layerInfos=new n(DEFAULT_LAYER_INFOS),this._listItems=new n([o("calcite-list-item",{description:"Current imagery",selected:!0,value:"default"})])}postInitialize(){const{layerInfos:e,_listItems:r}=this;e.forEach(e=>{const{description:i}=e;r.add(o("calcite-list-item",{description:i,value:i}))})}render(){const{_listItems:e}=this;return o("calcite-panel",{heading:"Basemap Imagery"},o("calcite-list",{"selection-mode":"single-persist",afterCreate:this._listAfterCreate.bind(this)},e.toArray()))}_listAfterCreate(r){const{layerInfos:i}=this;r.addEventListener("calciteListChange",()=>e(this,void 0,void 0,function*(){const e=r.selectedItems[0].value;if("default"===e)return void a(l,"default");const t=i.find(r=>r.description===e);if(!t)return;const{layer:s,url:o}=t;s||(t.layer=yield c.fromArcGISServerUrl({url:o})),a(l,t.layer)}))}};r([i({type:n})],p.prototype,"layerInfos",void 0),p=r([t("cov.components.BasemapImagery")],p);export default p;