/* His name was Bruce McNair. Copyright 2025 City of Vernonia, Oregon. */
import{__awaiter as e,__decorate as t}from"tslib";import{subclass as o,property as i}from"@arcgis/core/core/accessorSupport/decorators";import r from"@arcgis/core/widgets/Widget";import{tsx as n}from"@arcgis/core/widgets/support/widget";let s=class extends r{get container(){return this._container}set container(e){this._container=e}constructor(e){super(e),this._container=document.createElement("calcite-dialog"),this.cssClass="cov--markdown-dialog",this.closeText="Close",this.width="m",this.container=this._container,document.body.appendChild(this.container)}postInitialize(){return e(this,void 0,void 0,(function*(){const{container:e,url:t}=this,o=yield(yield fetch(t,{cache:"reload"})).text(),i=yield import("marked");i.use({gfm:!0,extensions:[{name:"link",renderer:e=>{const{href:t,text:o}=e,i="::_blank";return o.includes(i)?`<a href=${t} target="_blank">${o.replace(i,"")}</a>`:`<a href=${t}>${o}</a>`}}]}),e.querySelector("div").innerHTML=yield i.parse(o)}))}render(){const{cssClass:e,closeText:t,heading:o,width:i}=this;return n("calcite-dialog",{heading:o,modal:!0,width:i},n("div",{class:e}),n("calcite-button",{slot:"footer-end",onclick:()=>{this.container.open=!1}},t))}};t([i()],s.prototype,"closeText",void 0),s=t([o("cov.components.MarkdownDialog")],s);export default s;