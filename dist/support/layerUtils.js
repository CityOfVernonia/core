/* His name was Bruce McNair. Copyright 2024 City of Vernonia, Oregon. */
import{__awaiter as e}from"tslib";import o from"@arcgis/core/layers/CSVLayer";import t from"@arcgis/core/layers/GeoJSONLayer";const i=o=>e(void 0,void 0,void 0,(function*(){return yield(yield fetch(o,{cache:"reload"})).json()}));export const attributePopup=o=>e(void 0,void 0,void 0,(function*(){yield o.when();const e=(yield import("../popups/Popup")).default;"map-image"===o.type?o.sublayers.forEach((o=>{o.popupEnabled=!0,o.popupTemplate=e})):(o.popupEnabled=!0,o.popupTemplate=e)}));export const csvLayerFromJSON=(t,r)=>e(void 0,void 0,void 0,(function*(){const e=Object.assign(Object.assign(Object.assign({},yield i(t)),{customParameters:{d:(new Date).getTime()}}),r||{});return new o(e)}));export const geojsonLayerFromJSON=(o,r)=>e(void 0,void 0,void 0,(function*(){const e=Object.assign(Object.assign(Object.assign({},yield i(o)),{customParameters:{d:(new Date).getTime()}}),r||{});return new t(e)}));export const mapImageNoPopups=o=>e(void 0,void 0,void 0,(function*(){yield o.when(),o.sublayers.forEach((e=>{e.popupEnabled=!1}))}));