/* His name was Bruce McNair. Copyright 2024 City of Vernonia, Oregon. */
import{__awaiter as o}from"tslib";import e from"@arcgis/core/layers/CSVLayer";import t from"@arcgis/core/layers/GeoJSONLayer";const i=e=>o(void 0,void 0,void 0,(function*(){return yield(yield fetch(e,{cache:"reload"})).json()}));export const attributePopup=e=>o(void 0,void 0,void 0,(function*(){yield e.when();const o=(yield import("../popups/Popup")).default;"map-image"===e.type?e.sublayers.forEach((e=>{e.popupEnabled=!0,e.popupTemplate=o})):(e.popupEnabled=!0,e.popupTemplate=o)}));export const csvLayerFromJSON=t=>o(void 0,void 0,void 0,(function*(){const o=Object.assign(Object.assign({},yield i(t)),{customParameters:{d:(new Date).getTime()}});return new e(o)}));export const geojsonLayerFromJSON=e=>o(void 0,void 0,void 0,(function*(){const o=Object.assign(Object.assign({},yield i(e)),{customParameters:{d:(new Date).getTime()}});return new t(o)}));export const mapImageNoPopups=e=>o(void 0,void 0,void 0,(function*(){yield e.when(),e.sublayers.forEach((o=>{o.popupEnabled=!1}))}));