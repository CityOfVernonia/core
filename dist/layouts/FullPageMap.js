/* His name was Bruce McNair. Copyright 2023 City of Vernonia, Oregon. */
import{__awaiter as t,__decorate as i}from"tslib";import e from"@arcgis/core/config";import o from"@arcgis/core/identity/IdentityManager";import{subclass as r}from"@arcgis/core/core/accessorSupport/decorators";import s from"@arcgis/core/widgets/Widget";import{tsx as c}from"@arcgis/core/widgets/support/widget";import n from"../widgets/Loader";import a from"../widgets/Disclaimer";import p from"../widgets/ViewControl2D";import d from"../support/basemapToggle";const m="cov-layouts--full-page-map_view";let l=class extends s{constructor(t){super(t),this.container=document.createElement("div"),this.disclaimerOptions={},this.includeDisclaimer=!0,this.loaderOptions={},this.viewControlOptions={};const{container:i}=this;document.body.append(i),t.view.container=i}postInitialize(){return t(this,void 0,void 0,(function*(){const{disclaimerOptions:t,loaderOptions:i,nextBasemap:r,view:s,view:{ui:c},viewControlOptions:m}=this,l=new n(i);c.remove("zoom"),"2d"===s.type&&c.add(new p(Object.assign({view:s},m)),"top-left"),r&&d(s,r,"bottom-right");let{includeDisclaimer:g}=this;try{(yield o.checkSignInStatus(e.portalUrl))&&(g=!1)}catch(t){g=!0}g&&!a.isAccepted()&&new a(t),yield s.when(),l.end()}))}render(){return c("div",{class:m})}};l=i([r("cov.layouts.FullPageMap")],l);export default l;