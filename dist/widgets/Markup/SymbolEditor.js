/* His name was Bruce McNair. Copyright 2024 City of Vernonia, Oregon. */
import{__decorate as e}from"tslib";import{subclass as t,property as l}from"@arcgis/core/core/accessorSupport/decorators";import i from"@arcgis/core/widgets/Widget";import{tsx as a}from"@arcgis/core/widgets/support/widget";import o from"./ColorPicker";const c="cov-markup--symbol-editor",r="cov-markup--symbol-editor--slider-labels";let s=0,n=class extends i{constructor(e){super(e)}_setProperty(e,t){const{graphic:l,symbol:i}=this,a=i.clone();a.set({[e]:t}),l.set({symbol:a}),this.emit("set-symbol-property",{originalSymbol:i,symbol:a,graphic:l})}render(){const{symbol:e}=this;if(!e)return a("div",null);switch(e.type){case"simple-marker":return this._simpleMarkerSymbol(e);case"simple-line":return this._simpleLineSymbol(e);case"simple-fill":return this._simpleFillSymbol(e);case"text":return this._textSymbol(e);default:return a("div",null)}}_colorPicker(e,t,l){const i=new o({color:e.get(t),container:l});this.addHandles(i.watch("color",(e=>{this._setProperty(t,e)})))}_simpleMarkerSymbol(e){const{style:t,size:l,outline:{width:i}}=e;return a("div",{key:s++,class:c},a("calcite-label",null,"Color",a("div",{afterCreate:this._colorPicker.bind(this,e,"color")})),a("calcite-label",null,"Style",a("calcite-select",{afterCreate:e=>{e.addEventListener("calciteSelectChange",(()=>{this._setProperty("style",e.selectedOption.value)}))}},a("calcite-option",{key:s++,selected:"circle"===t,value:"circle"},"Circle"),a("calcite-option",{key:s++,selected:"square"===t,value:"square"},"Square"),a("calcite-option",{key:s++,selected:"diamond"===t,value:"diamond"},"Diamond"))),a("calcite-label",null,"Size",a("calcite-slider",{afterCreate:e=>{e.addEventListener("calciteSliderInput",(()=>{this._setProperty("size",e.value)}))},min:"6",max:"18",value:l,step:"1",snap:""}),a("div",{class:r},a("span",null,"Small"),a("span",null,"Large"))),a("calcite-label",null,"Outline color",a("div",{afterCreate:this._colorPicker.bind(this,e,"outline.color")})),a("calcite-label",{style:"--calcite-label-margin-bottom: 0;"},"Outline width",a("calcite-slider",{afterCreate:e=>{e.addEventListener("calciteSliderInput",(()=>{this._setProperty("outline.width",e.value)}))},min:"1",max:"4",value:i,step:"1",snap:""}),a("div",{class:r},a("span",null,"Thin"),a("span",null,"Thick"))))}_simpleLineSymbol(e){const{style:t,width:l}=e;return a("div",{key:s++,class:c},a("calcite-label",null,"Color",a("div",{afterCreate:this._colorPicker.bind(this,e,"color")})),a("calcite-label",null,"Style",a("calcite-select",{afterCreate:e=>{e.addEventListener("calciteSelectChange",(()=>{this._setProperty("style",e.selectedOption.value)}))}},a("calcite-option",{key:s++,selected:"solid"===t,value:"solid"},"Solid"),a("calcite-option",{key:s++,selected:"dash"===t,value:"dash"},"Dash"),a("calcite-option",{key:s++,selected:"dot"===t,value:"dot"},"Dot"),a("calcite-option",{key:s++,selected:"dash-dot"===t,value:"dash-dot"},"Dash Dot"))),a("calcite-label",{style:"--calcite-label-margin-bottom: 0;"},"Width",a("calcite-slider",{afterCreate:e=>{e.addEventListener("calciteSliderInput",(()=>{this._setProperty("width",e.value)}))},min:"1",max:"6",value:l,step:"1",snap:""}),a("div",{class:r},a("span",null,"Thin"),a("span",null,"Thick"))))}_simpleFillSymbol(e){const{outline:{style:t,width:l},color:{a:i}}=e;return a("div",{key:s++,class:c},a("calcite-label",null,"Line color",a("div",{afterCreate:this._colorPicker.bind(this,e,"outline.color")})),a("calcite-label",null,"Line style",a("calcite-select",{afterCreate:e=>{e.addEventListener("calciteSelectChange",(()=>{this._setProperty("outline.style",e.selectedOption.value)}))}},a("calcite-option",{key:s++,selected:"solid"===t,value:"solid"},"Solid"),a("calcite-option",{key:s++,selected:"dash"===t,value:"dash"},"Dash"),a("calcite-option",{key:s++,selected:"dot"===t,value:"dot"},"Dot"),a("calcite-option",{key:s++,selected:"dash-dot"===t,value:"dash-dot"},"Dash Dot"))),a("calcite-label",null,"Line width",a("calcite-slider",{afterCreate:e=>{e.addEventListener("calciteSliderInput",(()=>{this._setProperty("outline.width",e.value)}))},min:"1",max:"6",value:l,step:"1",snap:""}),a("div",{class:r},a("span",null,"Thin"),a("span",null,"Thick"))),a("calcite-label",null,"Fill color",a("div",{afterCreate:t=>{new o({color:e.color,container:t}).watch("color",(e=>{this._setProperty("color.r",e.r),this._setProperty("color.b",e.b),this._setProperty("color.g",e.g)}))}})),a("calcite-label",{style:"--calcite-label-margin-bottom: 0;"},"Fill opacity",a("calcite-slider",{afterCreate:e=>{e.addEventListener("calciteSliderInput",(()=>{this._setProperty("color.a",e.value)}))},min:"0",max:"1",value:i,step:"0.1",snap:""}),a("div",{class:r},a("span",null,"0%"),a("span",null,"50%"),a("span",null,"100%"))))}_textSymbol(e){return a("div",{key:s++,class:c},a("calcite-label",null,"Text",a("calcite-input",{type:"text",value:e.text,afterCreate:e=>{e.addEventListener("calciteInputInput",(()=>{this._setProperty("text",e.value)}))}})),a("calcite-label",null,"Size",a("calcite-slider",{afterCreate:e=>{e.addEventListener("calciteSliderInput",(()=>{this._setProperty("font.size",e.value)}))},min:"10",max:"18",value:e.font.size,step:"1",snap:""}),a("div",{class:r},a("span",null,"Small"),a("span",null,"Large"))),a("calcite-label",null,"Color",a("div",{afterCreate:t=>{new o({color:e.color,container:t}).watch("color",(e=>{this._setProperty("color",e)}))}})),a("calcite-label",{style:"--calcite-label-margin-bottom: 0;"},"Halo color",a("div",{afterCreate:t=>{new o({color:e.haloColor,container:t}).watch("color",(e=>{this._setProperty("haloColor",e)}))}})))}};e([l()],n.prototype,"graphic",void 0),e([l({aliasOf:"graphic.symbol"})],n.prototype,"symbol",void 0),n=e([t("cov.widgets.Markup.SymbolEditor")],n);export default n;